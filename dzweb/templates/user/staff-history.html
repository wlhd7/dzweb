<!-- templates/user/staff-history.html -->
{% extends 'user/main.html' %}

{% block title %}{{ name }}的历史记录 - {{ department }}{% endblock %}

{% block user %}
<div class="history-container">
    <h2>{{ name }} - {{ department }}的历史记录</h2>
    
    <table class="history-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>状态</th>
            </tr>
        </thead>
        <tbody>
            {% for record in history %}
            <tr>
                <td>{{ record['date'] }}</td>
                <td class="status-{{ record['status'] }}">
                    {% if record['status'] == 'bg-1' %}正常
                    {% elif record['status'] == 'bg-2' %}加班
                    {% elif record['status'] == 'bg-3' %}休息
                    {% else %}{{ record['status'] }}{% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <button onclick="window.close()">关闭</button>
</div>

<style>
.history-container {
    padding: 20px;
}
.history-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}
.history-table th, .history-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}
.status-bg-1 { background-color: #ffffff; }
.status-bg-2 { background-color: #ffeb3b; }
.status-bg-3 { background-color: #e91e63; color: white; }
</style>
{% endblock %}
